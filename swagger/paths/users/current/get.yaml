tags:
  - Users
summary: Retrieve Current Authenticated User Profile
operationId: getCurrentUser
description: |
  ## Overview
  Retrieves the profile information of the currently authenticated user based on the session access token stored in HTTP-only cookies.

  ## Authentication
  This endpoint requires a valid session established through the authentication flow. The access token must be present in the request cookies and associated with an active, non-expired session in the system.

  ## Response Data
  Returns essential user profile information including display name, avatar URL, and email address.
security:
  - bearerAuth: []
responses:
  '200':
    description: |
      User profile successfully retrieved. Returns a standardized response object containing the current user's public profile information.

      **Note:** Password and other sensitive fields are automatically excluded from the response.
    content:
      application/json:
        schema:
          type: object
          required:
            - status
            - message
            - data
          properties:
            status:
              type: integer
              description: HTTP status code indicating successful retrieval
              example: 200
            message:
              type: string
              description: Human-readable success message
              example: 'Successful got current user'
            data:
              type: object
              description: User profile data object
              required:
                - username
                - avatar
                - email
              properties:
                username:
                  type: string
                  description: User's display name or full name
                  minLength: 3
                  maxLength: 32
                  example: 'John Doe'
                avatar:
                  type: string
                  format: uri
                  description: Absolute URL to the user's avatar image
                  example: 'https://res.cloudinary.com/travellers/image/upload/v1234567890/avatars/user123.jpg'
                email:
                  type: string
                  format: email
                  description: User's registered email address
                  example: 'john.doe@example.com'
  '401':
    description: Authentication failed. Access token is missing, invalid, or expired.
    content:
      application/json:
        schema:
          type: object
          required:
            - status
            - message
            - data
          properties:
            status:
              type: integer
              example: 401
            message:
              type: string
              example: UnauthorizedError
            data:
              type: object
              required:
                - message
              properties:
                message:
                  type: string
                  example: 'Access token expired'
  '404':
    description: User not found.
    content:
      application/json:
        schema:
          type: object
          required:
            - status
            - message
            - data
          properties:
            status:
              type: integer
              example: 404
            message:
              type: string
              example: NotFoundError
            data:
              type: object
              required:
                - message
              properties:
                message:
                  type: string
                  example: 'User not found'
  '500':
    description: Internal server error.
    content:
      application/json:
        schema:
          type: object
          required:
            - status
            - message
            - data
          properties:
            status:
              type: integer
              example: 500
            message:
              type: string
              example: InternalServerError
            data:
              type: object
              required:
                - message
              properties:
                message:
                  type: string
                  example: 'An unexpected error occurred'
